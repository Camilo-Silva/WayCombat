<nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
  <div class="container">
    <!-- Logo y nombre de la marca -->
    <a class="navbar-brand d-flex align-items-center" routerLink="/">
      <img src="assets/images/logo.png" alt="Way Combat Logo" height="40" class="me-2" *ngIf="false">
      <span class="fw-bold text-primary-blue">WAY COMBAT</span>
    </a>

    <!-- Botón para dispositivos móviles -->
    <button 
      class="navbar-toggler" 
      type="button" 
      data-bs-toggle="collapse" 
      data-bs-target="#navbarNav"
      [attr.aria-expanded]="isNavbarCollapsed"
      (click)="toggleNavbar()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Enlaces de navegación -->
    <div class="collapse navbar-collapse" id="navbarNav" [ngClass]="{'show': !isNavbarCollapsed}">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
            <i class="fas fa-home me-1"></i>Home
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/capacitaciones" routerLinkActive="active">
            <i class="fas fa-graduation-cap me-1"></i>Capacitaciones
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/galeria" routerLinkActive="active">
            <i class="fas fa-images me-1"></i>Galería
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/contacto" routerLinkActive="active">
            <i class="fas fa-envelope me-1"></i>Contacto
          </a>
        </li>
        <!-- Enlace Mixs - Solo visible para usuarios logueados -->
        <li class="nav-item" *ngIf="isLoggedIn">
          <a class="nav-link" routerLink="/mixs" routerLinkActive="active">
            <i class="fas fa-music me-1"></i>Mis Mixs
          </a>
        </li>
        <!-- Enlace Admin Dashboard - Solo visible para administradores -->
        <li class="nav-item" *ngIf="isLoggedIn && isAdmin">
          <a class="nav-link text-primary fw-bold" routerLink="/admin-dashboard" routerLinkActive="active">
            <i class="fas fa-cog me-1"></i>Panel Admin
          </a>
        </li>
      </ul>

      <!-- Botones de usuario -->
      <ul class="navbar-nav ms-auto">
        <!-- Usuario no logueado -->
        <ng-container *ngIf="!isLoggedIn">
          <li class="nav-item">
            <a class="nav-link btn btn-way-primary text-white px-3 me-2" routerLink="/acceso-instructores">
              <i class="fas fa-sign-in-alt me-1"></i>Acceso Instructores
            </a>
          </li>
        </ng-container>

        <!-- Usuario logueado -->
        <ng-container *ngIf="isLoggedIn">
          <li class="nav-item dropdown">
            <a 
              class="nav-link dropdown-toggle d-flex align-items-center" 
              href="#" 
              id="userDropdown" 
              role="button" 
              data-bs-toggle="dropdown" 
              aria-expanded="false"
              (click)="toggleUserMenu($event)">
              <i class="fas fa-user-circle me-1"></i>
              <span>{{ currentUser?.nombre || 'Usuario' }}</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end" [ngClass]="{'show': isUserMenuOpen}">
              <li>
                <a class="dropdown-item" routerLink="/mixs">
                  <i class="fas fa-music me-2"></i>Mis Mixes
                </a>
              </li>
              <li>
                <a class="dropdown-item" routerLink="/mi-cuenta">
                  <i class="fas fa-user-cog me-2"></i>Mi Cuenta
                </a>
              </li>
              <li *ngIf="isAdmin">
                <hr class="dropdown-divider">
              </li>
              <li *ngIf="isAdmin">
                <a class="dropdown-item text-primary" href="#" (click)="navigateToAdmin($event)">
                  <i class="fas fa-cog me-2"></i>Panel Admin
                </a>
              </li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li>
                <a class="dropdown-item text-danger" href="#" (click)="logout($event)">
                  <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesión
                </a>
              </li>
            </ul>
          </li>
        </ng-container>
      </ul>
    </div>
  </div>
</nav>
